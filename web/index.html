<html>
<head>
<title>Mayfly: database for unit testing</title>
<link rel="stylesheet" type="text/css" media="all" href="styles.css" />
</head>
<body>
<table>
<tr>
<td class="sidebar">
<!--
downloads
javadoc(?)
manual
-->
<div><a href="http://sf.net/projects/mayfly/cvs" >CVS</a></div>
<div><a href="http://sf.net/projects/mayfly/lists" >lists</a></div>
<div>&nbsp;</div>
<div><a href="http://sf.net/projects/mayfly" >project</a></div>
<div>&nbsp;</div>
<a href="http://sourceforge.net"><img src="http://sourceforge.net/sflogo.php?group_id=150560&amp;type=1" width="88" height="31" border="0" alt="SourceForge.net Logo" /></a>
</td>
<td>

<table>
<tr>
<td>
<h1>Mayfly</h1>
<h2>A Database for Unit Testing</h2>
</td>
<td><img src="mayfly.jpg" alt="" /></td>
</tr>
</table>

<p>Although there are a vast number of free and non-free SQL
implementations in Java, few of them are really good for unit testing.  A
database for unit testing should be very fast on small data sets and
should not present performance or other obstacles to setting up
databases, adding and removing tables, and destroying databases.  A
typical unit test run will want to create thousands of databases.
With most SQL databases, this is not achievable, and one must resort
to compromises such as keeping the tables around and only setting up
data on each unit test run.  Mayfly aims to make creating an in-memory
SQL database as easy as creating any other in-memory data structure.</p>

<p>Some of what has been implemented so far:</p>

<ul>
<li>Any number of tables, columns, and rows (limited by available memory and
to a certain extent by query speed).</li>

<li>Inner and left joins.</li>

<li>WHERE clauses with =, !=, <, >, AND, OR, NOT</li>

<li>ORDER BY</li>

<li>Integer and string data types.</li>
</ul>

<p>The best up to date information can be found on the
<a href="http://sf.net/projects/mayfly/lists" >mailing lists</a>.</p>

<h2>More background and discussion</h2>

<p>See Martin Fowler's <a 
href="http://martinfowler.com/bliki/InMemoryDatabase.html"
>InMemoryDatabase</a>.  We don't disagree with him about
wanting a Repository layer for your querying code, but we do regard
an in-memory SQL database as generally more practical than a test-only
implementation of
your Repository with java collections in an ad-hoc way (and getting
the view of the data provided by the various queries to agree with
each other).  His comments about a Prevayler-like journal
have occurred to us as well, although memory-only usage for unit
tests is our current focus.</p>

</td>
</tr>
</table>
</body>
</html>
