<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
<title>Mayfly: database for unit testing</title>
<link rel="stylesheet" type="text/css" media="all" href="styles.css" />
</head>
<body>
<table>
<tr>
<td class="sidebar">

<ul>
<li><a href="http://sourceforge.net/project/showfiles.php?group_id=150560" >downloads</a></li>
<li><a href="doc/" >documentation</a></li>
</ul>

<ul>
<li><a href="http://www.apache.org/licenses/LICENSE-2.0" >license</a></li>
<li><a href="http://sourceforge.net/cvs/?group_id=150560" >CVS</a></li>
<li><a href="http://sourceforge.net/projects/mayfly/lists" >lists</a></li>
</ul>

<ul>
<li><a href="http://sourceforge.net/projects/mayfly" >project</a></li>
</ul>

<div class="sourceforge-logo">
<a href="http://sourceforge.net"><img src="http://sourceforge.net/sflogo.php?group_id=150560&amp;type=1" width="88" height="31" alt="SourceForge.net Logo" /></a>
</div>

</td>
<td>

<div class="logo"><img src="mayfly.jpg" alt="" /></div>

<div>
<h1>Mayfly</h1>
<h2>A Database for Unit Testing</h2>
</div>

<h2>News</h2>

<p>17 Feb 2007: Version 0.3 released.  Adds ALTER TABLE, subselects, LIKE, the ability to dump the database as SQL, CASE, hex constants for BLOBs (x'hexdigits'), ALTER TABLE and more (see the NEWS file).</p>

<p>25 Aug 2006: Version 0.2 released.  This adds schemas (and SET SCHEMA),
GROUP BY, auto-increment columns, and primary and foreign keys.</p>

<p>7 Dec 2005: Version 0.1 released.  This marks the first time we've had 
<a href="http://sourceforge.net/project/showfiles.php?group_id=150560">downloadable zip files</a> and 
<a href="doc/" >online documentation</a>.</p>

<p>Also see our
<a href="http://sourceforge.net/projects/mayfly/lists" >mailing lists</a> and 
<a href="http://sourceforge.net/news/?group_id=150560" >sourceforge news page</a>.</p>

<h2>Why Mayfly?</h2>

<p>Although there are a vast number of free and non-free SQL
implementations in Java, few of them are really good for unit testing.  A
database for unit testing should be very fast on small data sets and
should not present performance or other obstacles to setting up
databases, adding and removing tables, and destroying databases.  A
typical unit test run will want to create thousands of databases.
With most SQL databases, this is not achievable, and one must resort
to compromises such as keeping the tables around and only setting up
data on each unit test run.  Mayfly aims to make creating an in-memory
SQL database as easy as creating any other in-memory data structure.</p>

<h2>Some of what has been implemented so far:</h2>

<ul>
<li>The ability to very cheaply snapshot the database (both metadata and
data) and restore from that point.</li>

<li>Your choice of JDBC or the Mayfly-specific 
<a href="doc/html/classnet_1_1sourceforge_1_1mayfly_1_1Database.html" 
>Database</a> class</li>

<li>The ability to dump the database to SQL (with the dump format being designed for unit testing operations like string compare on two dumps)</li>

<li>Inner and left joins.</li>

<li>WHERE clauses, many subselects</li>

<li>ORDER BY and GROUP BY</li>

<li>Integer, decimal and string data types.  Auto-increment columns. ALTER TABLE.</li>

<li>Primary and foreign keys.</li>
</ul>

<h2>More background and discussion</h2>

<p><a href="http://jkingdon2000.blogspot.com/" >Jim Kingdon 
on Programming</a> (often about Mayfly)</p>

<p><a href="hibernate-demo/howto.html" >Mayfly and Hibernate</a></p>

<p>See Martin Fowler's <a 
href="http://martinfowler.com/bliki/InMemoryTestDatabase.html"
>InMemoryDatabase</a>.</p>
<!-- 
We don't disagree with him about
wanting a Repository layer for your querying code, but we do regard
an in-memory SQL database as generally more practical than a test-only
implementation of
your Repository with java collections in an ad-hoc way (and getting
the view of the data provided by the various queries to agree with
each other).  His idea of a Prevayler-like journal
has occurred to us as well, although memory-only usage for unit
tests is our current focus.</p>-->

<p>One good SQL reference/tutorial site is <a href="http://www.sqlzoo.net/" >SQLzoo</a>.</p>

</td>
</tr>
</table>
</body>
</html>
